<!doctype html>
<html lang="de-CH">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>KI Assistent Dashboard</title>
  <meta name="description" content="PersÃ¶nliches Dashboard fÃ¼r deinen KI Assistenten" />

  <link rel="icon" href="/favicon.ico" />
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <header>
    <h1 class="welcome">Willkommen zurÃ¼ck, Luca ğŸ‘‹</h1>
    <p class="subtitle">Ãœbersicht deines persÃ¶nlichen KI Assistenten</p>
  </header>

  <main>
    <!-- Psychische Faktoren -->
    <section>
      <h2 class="section-title">ğŸ§  Psychische Faktoren</h2>
      
      <div class="grid">
        <!-- TÃ¤glicher Check -->
        <div class="card">
          <div class="card-title"><span class="card-icon">âœ…</span>TÃ¤glicher Check-In</div>
          <div class="metric">
            <span class="metric-label">Heute durchgefÃ¼hrt</span>
            <span class="status good">Erledigt</span>
          </div>
          <div class="metric">
            <span class="metric-label">Stimmung</span>
            <span class="metric-value">7/10</span>
          </div>
          <div class="metric">
            <span class="metric-label">Energie</span>
            <div class="progress-bar">
              <div class="progress-fill" style="width: 70%"></div>
            </div>
          </div>
          <button class="button">Check durchfÃ¼hren</button>
        </div>

        <!-- Stressabbau -->
        <div class="card">
          <div class="card-title"><span class="card-icon">ğŸ˜Œ</span>Stressabbau & Entspannung</div>
          <div class="metric">
            <span class="metric-label">Entspannungsminuten heute</span>
            <span class="metric-value">23 Min</span>
          </div>
          <div class="metric">
            <span class="metric-label">Wochentrend</span>
            <span class="status good">Stabil</span>
          </div>
          <div class="metric">
            <span class="metric-label">Empfohlene AktivitÃ¤t</span>
            <span class="metric-value">Meditation</span>
          </div>
          <button class="button">Sitzung starten</button>
        </div>

        <!-- SchlafqualitÃ¤t -->
        <div class="card">
          <div class="card-title"><span class="card-icon">ğŸ˜´</span>SchlafqualitÃ¤t & Erholung</div>
          <div class="metric">
            <span class="metric-label">Letzte Nacht geschlafen</span>
            <span class="metric-value">7.5h</span>
          </div>
          <div class="metric">
            <span class="metric-label">SchlafqualitÃ¤t</span>
            <span class="status good">Gut</span>
          </div>
          <div class="metric">
            <span class="metric-label">Empfehlung</span>
            <span class="metric-value">22:30 - 06:30</span>
          </div>
          <button class="button">Details anschauen</button>
        </div>
      </div>
    </section>

    <!-- Assistent Features -->
    <section>
      <h2 class="section-title">ğŸ¤– Assistent Features</h2>
      
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">ğŸ’¬</div>
          <div class="feature-name">Chat & Konversation</div>
          <div class="feature-desc">Sprich mit deinem persÃ¶nlichen KI Assistenten Ã¼ber alles</div>
          <button class="button">Ã–ffnen</button>
        </div>

        <div class="feature-card">
          <div class="feature-icon">ğŸ“š</div>
          <div class="feature-name">Wissensdatenbank</div>
          <div class="feature-desc">Zugriff auf dein persÃ¶nliches Wissensnetzwerk</div>
          <button class="button">Durchsuchen</button>
        </div>

        <div class="feature-card">
          <div class="feature-icon">ğŸ“‹</div>
          <div class="feature-name">Aufgabenmanagement</div>
          <div class="feature-desc">Organisiere und verwalte deine To-Do Listen</div>
          <button class="button">Verwalten</button>
        </div>

        <div class="feature-card">
          <div class="feature-icon">ğŸ“Š</div>
          <div class="feature-name">Analytiken & Insights</div>
          <div class="feature-desc">Detaillierte Analyse deines Fortschritts</div>
          <button class="button">Anschauen</button>
        </div>

        <div class="feature-card">
          <div class="feature-icon">ğŸ¯</div>
          <div class="feature-name">Ziele & Meilensteine</div>
          <div class="feature-desc">Tracke deine persÃ¶nlichen Ziele</div>
          <button class="button">Setzen</button>
        </div>

        <div class="feature-card">
          <div class="feature-icon">âš™ï¸</div>
          <div class="feature-name">Einstellungen</div>
          <div class="feature-desc">Personalisiere deinen Assistenten</div>
          <button class="button">Konfigurieren</button>
        </div>

        <div class="feature-card">
          <div class="feature-icon">ğŸ§˜</div>
          <div class="feature-name">Meditationsmodus</div>
          <div class="feature-desc">Entspannende Meditationen und AtemÃ¼bungen</div>
          <button class="button" onclick="openMeditationModal()">Starten</button>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <small>&copy; <span id="year"></span> Dein persÃ¶nlicher KI Assistent | Datenschutz & Sicherheit gewÃ¤hrleistet</small>
  </footer>

  <!-- Meditationsmodus Modal -->
  <div class="modal" id="meditationModal">
    <div class="modal-content meditation-modal">
      <div class="modal-header">
        <h2 class="modal-title">ğŸ§˜ Meditationsmodus</h2>
        <button class="modal-close-btn" onclick="closeMeditationModal()">âœ•</button>
      </div>

      <div id="meditationContent">
        <div class="meditation-menu">
          <div class="meditation-option" onclick="startMeditationType('breathing')">
            <div class="meditation-icon">ğŸ«</div>
            <div class="meditation-name">AtemÃ¼bungen</div>
            <div class="meditation-duration">5 - 15 Min</div>
          </div>

          <div class="meditation-option" onclick="startMeditationType('guided')">
            <div class="meditation-icon">ğŸ§</div>
            <div class="meditation-name">GefÃ¼hrte Meditation</div>
            <div class="meditation-duration">10 - 30 Min</div>
          </div>

          <div class="meditation-option" onclick="startMeditationType('bodyscan')">
            <div class="meditation-icon">ğŸŒŠ</div>
            <div class="meditation-name">Body Scan</div>
            <div class="meditation-duration">15 - 20 Min</div>
          </div>

          <div class="meditation-option" onclick="startMeditationType('mindfulness')">
            <div class="meditation-icon">ğŸ¯</div>
            <div class="meditation-name">Achtsamkeit</div>
            <div class="meditation-duration">10 - 25 Min</div>
          </div>
        </div>
      </div>

      <div id="meditationSession" style="display: none;">
        <div class="session-header">
          <button class="back-btn" onclick="backToMenu()">â† ZurÃ¼ck</button>
          <div class="session-title" id="sessionTitle"></div>
        </div>

        <div class="meditation-timer">
          <div class="timer-circle">
            <div class="timer-display">
              <span id="timerMinutes">05</span>:<span id="timerSeconds">00</span>
            </div>
          </div>
        </div>

        <div class="session-controls">
          <button class="control-btn" id="startBtn" onclick="startTimer()">Starten</button>
          <button class="control-btn" id="pauseBtn" onclick="pauseTimer()" style="display: none;">Pausieren</button>
          <button class="control-btn reset-btn" onclick="resetTimer()">ZurÃ¼cksetzen</button>
        </div>

        <div class="session-description" id="sessionDescription"></div>

        <div class="meditation-stats">
          <div class="stat">
            <div class="stat-label">GewÃ¤hlte Dauer</div>
            <div class="stat-value" id="durationValue">5 Min</div>
          </div>
          <div class="stat">
            <div class="stat-label">Verbrauchte Zeit</div>
            <div class="stat-value" id="elapsedValue">0 Min</div>
          </div>
        </div>

        <button class="button complete-btn" onclick="completeMeditation()" style="margin-top: 20px; width: 100%;">âœ“ Beenden</button>
      </div>
    </div>
  </div>

  <!-- Check-In Modal -->
  <div class="modal" id="checkInModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="modalTitle">TÃ¤glicher Check-In</h2>
        <div class="modal-progress">
          <span id="questionCounter">1</span> / 10
          <div class="progress-bar-modal">
            <div class="progress-fill-modal" id="modalProgressBar" style="width: 10%"></div>
          </div>
        </div>
      </div>

      <div id="questionContainer">
        <!-- Questions werden hier eingefÃ¼gt -->
      </div>

      <div class="modal-buttons">
        <button class="btn-secondary" id="closeBtn" style="display: none;">Abbrechen</button>
        <button class="btn-secondary" id="prevBtn" style="display: none;">â† ZurÃ¼ck</button>
        <button class="btn-primary-modal" id="nextBtn">Weiter â†’</button>
      </div>
    </div>
  </div>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();
    
    // ========== Meditationsmodus ==========
    const meditationModes = {
      breathing: {
        name: 'AtemÃ¼bungen',
        description: 'Vertiefte AtemÃ¼bungen zur Beruhigung und Fokussierung. Atme langsam ein, halte an und atme langsam aus.',
        durations: [5, 10, 15],
        defaultDuration: 10
      },
      guided: {
        name: 'GefÃ¼hrte Meditation',
        description: 'Eine ruhige, gefÃ¼hrte Meditation, die dich durch Entspannung und inneren Frieden fÃ¼hrt.',
        durations: [10, 20, 30],
        defaultDuration: 20
      },
      bodyscan: {
        name: 'Body Scan',
        description: 'Systematische KÃ¶rperentspannung. Konzentriere dich auf jeden KÃ¶rperteil und entspanne ihn bewusst.',
        durations: [15, 20],
        defaultDuration: 15
      },
      mindfulness: {
        name: 'Achtsamkeit',
        description: 'PrÃ¤sentes Bewusstsein und Achtsamkeit. Beobachte deine Gedanken ohne Urteil.',
        durations: [10, 15, 25],
        defaultDuration: 15
      }
    };

    let currentMeditationType = null;
    let meditationDuration = 0;
    let meditationTimeElapsed = 0;
    let meditationTimer = null;
    let isTimerRunning = false;

    function openMeditationModal() {
      const modal = document.getElementById('meditationModal');
      modal.classList.add('active');
      document.getElementById('meditationContent').style.display = 'block';
      document.getElementById('meditationSession').style.display = 'none';
    }

    function closeMeditationModal() {
      const modal = document.getElementById('meditationModal');
      modal.classList.remove('active');
      if (meditationTimer) clearInterval(meditationTimer);
      isTimerRunning = false;
    }

    function startMeditationType(type) {
      currentMeditationType = type;
      const mode = meditationModes[type];
      meditationDuration = mode.defaultDuration;
      meditationTimeElapsed = 0;

      document.getElementById('sessionTitle').textContent = mode.name;
      document.getElementById('sessionDescription').textContent = mode.description;
      document.getElementById('durationValue').textContent = meditationDuration + ' Min';

      document.getElementById('meditationContent').style.display = 'none';
      document.getElementById('meditationSession').style.display = 'block';

      resetTimer();
    }

    function backToMenu() {
      if (meditationTimer) clearInterval(meditationTimer);
      isTimerRunning = false;
      document.getElementById('meditationContent').style.display = 'block';
      document.getElementById('meditationSession').style.display = 'none';
      document.getElementById('startBtn').style.display = 'block';
      document.getElementById('pauseBtn').style.display = 'none';
    }

    function startTimer() {
      if (isTimerRunning) return;
      isTimerRunning = true;
      document.getElementById('startBtn').style.display = 'none';
      document.getElementById('pauseBtn').style.display = 'block';

      meditationTimer = setInterval(() => {
        if (meditationTimeElapsed < meditationDuration * 60) {
          meditationTimeElapsed++;
          updateTimerDisplay();
          updateElapsedTime();
        } else {
          pauseTimer();
          showMeditationComplete();
        }
      }, 1000);
    }

    function pauseTimer() {
      if (meditationTimer) clearInterval(meditationTimer);
      isTimerRunning = false;
      document.getElementById('startBtn').style.display = 'block';
      document.getElementById('pauseBtn').style.display = 'none';
    }

    function resetTimer() {
      if (meditationTimer) clearInterval(meditationTimer);
      isTimerRunning = false;
      meditationTimeElapsed = 0;
      updateTimerDisplay();
      updateElapsedTime();
      document.getElementById('startBtn').style.display = 'block';
      document.getElementById('pauseBtn').style.display = 'none';
    }

    function updateTimerDisplay() {
      const remaining = meditationDuration * 60 - meditationTimeElapsed;
      const minutes = Math.floor(remaining / 60);
      const seconds = remaining % 60;
      document.getElementById('timerMinutes').textContent = String(minutes).padStart(2, '0');
      document.getElementById('timerSeconds').textContent = String(seconds).padStart(2, '0');
    }

    function updateElapsedTime() {
      const minutes = Math.floor(meditationTimeElapsed / 60);
      const seconds = meditationTimeElapsed % 60;
      document.getElementById('elapsedValue').textContent = 
        (minutes > 0 ? minutes + ' Min ' : '') + (seconds > 0 ? seconds + ' Sek' : '0 Sek');
    }

    function showMeditationComplete() {
      const modal = document.getElementById('meditationModal');
      const sessionDiv = document.getElementById('meditationSession');
      
      const completeHTML = `
        <div class="meditation-complete">
          <div class="complete-icon">âœ¨</div>
          <div class="complete-title">Meditation abgeschlossen!</div>
          <div class="complete-message">GroÃŸartig gemacht! Du hast ${meditationDuration} Minuten meditiert.</div>
          
          <div class="complete-stats">
            <div class="complete-stat">
              <span class="stat-num">${meditationDuration}</span>
              <span class="stat-label">Minuten</span>
            </div>
            <div class="complete-stat">
              <span class="stat-num">${currentMeditationType === 'breathing' ? 'ğŸ«' : currentMeditationType === 'guided' ? 'ğŸ§' : currentMeditationType === 'bodyscan' ? 'ğŸŒŠ' : 'ğŸ¯'}</span>
              <span class="stat-label">${meditationModes[currentMeditationType].name}</span>
            </div>
          </div>
          
          <div class="complete-benefits">
            <p>ğŸ’œ Deine heutige Praxis trÃ¤gt zu deinem Wohlbefinden bei</p>
            <p>ğŸŒ± RegelmÃ¤ÃŸige Meditation verbessert Fokus und Ruhe</p>
          </div>
          
          <button class="button" onclick="closeMeditationModal()" style="width: 100%; margin-top: 20px;">SchlieÃŸen</button>
        </div>
      `;
      
      sessionDiv.innerHTML = completeHTML;
    }

    function completeMeditation() {
      pauseTimer();
      showMeditationComplete();
    }
    
    // ========== Check-In Daten ==========
    const checkInQuestions = [
      {
        id: 1,
        type: 'slider',
        title: 'Wie ist deine aktuelle Stimmung?',
        subtitle: 'Von sehr negativ zu sehr positiv',
        minLabel: 'Sehr negativ',
        maxLabel: 'Sehr positiv',
        min: 1,
        max: 10,
        value: 5
      },
      {
        id: 2,
        type: 'multiple-choice',
        title: 'Wie war dein Schlaf in der letzten Nacht?',
        subtitle: 'Wie erholsam war die Ruhe?',
        options: ['Sehr schlecht', 'Schlecht', 'MittelmÃ¤ÃŸig', 'Gut', 'Sehr gut']
      },
      {
        id: 3,
        type: 'slider',
        title: 'Wie energetisch fÃ¼hlst du dich?',
        subtitle: 'Von sehr mÃ¼de zu sehr energiegeladen',
        minLabel: 'Sehr mÃ¼de',
        maxLabel: 'Sehr energiegeladen',
        min: 1,
        max: 10,
        value: 5
      },
      {
        id: 4,
        type: 'multiple-choice',
        title: 'Wie ist dein Stresslevel?',
        subtitle: 'WÃ¤hle dein aktuelles Empfinden',
        options: ['VÃ¶llig entspannt', 'Entspannt', 'Neutral', 'Gestresst', 'Sehr gestresst']
      },
      {
        id: 5,
        type: 'slider',
        title: 'Wie konzentriert kannst du dich heute fokussieren?',
        subtitle: 'Von sehr schwierig zu sehr leicht',
        minLabel: 'Sehr schwierig',
        maxLabel: 'Sehr leicht',
        min: 1,
        max: 10,
        value: 5
      },
      {
        id: 6,
        type: 'multiple-choice',
        title: 'Wie motiviert bist du heute?',
        subtitle: 'Bewerte deine Motivation',
        options: ['Keine Motivation', 'Wenig motiviert', 'Neutral', 'Motiviert', 'Sehr motiviert']
      },
      {
        id: 7,
        type: 'slider',
        title: 'Wie zufrieden bist du mit deinen heutigen Fortschritten?',
        subtitle: 'Von unzufrieden zu sehr zufrieden',
        minLabel: 'Unzufrieden',
        maxLabel: 'Sehr zufrieden',
        min: 1,
        max: 10,
        value: 5
      },
      {
        id: 8,
        type: 'multiple-choice',
        title: 'Wie ist deine soziale Verbindung heute?',
        subtitle: 'Wie verbunden fÃ¼hlst du dich?',
        options: ['Isoliert', 'Einsam', 'Neutral', 'Verbunden', 'Sehr verbunden']
      },
      {
        id: 9,
        type: 'slider',
        title: 'Wie ausgewogen ist dein heutiger Tag?',
        subtitle: 'Von unausgeglichen zu perfekt ausgewogen',
        minLabel: 'Unausgeglichen',
        maxLabel: 'Perfekt',
        min: 1,
        max: 10,
        value: 5
      },
      {
        id: 10,
        type: 'multiple-choice',
        title: 'Was brauchst du heute am meisten?',
        subtitle: 'WÃ¤hle das Wichtigste fÃ¼r dich',
        options: ['Ruhe & Schlaf', 'Bewegung & Sport', 'Soziale Kontakte', 'KreativitÃ¤t & SpaÃŸ', 'ProduktivitÃ¤t & Erfolg']
      }
    ];
    
    let currentQuestion = 0;
    let answers = {};
    const modal = document.getElementById('checkInModal');
    const questionContainer = document.getElementById('questionContainer');
    const nextBtn = document.getElementById('nextBtn');
    const prevBtn = document.getElementById('prevBtn');
    const closeBtn = document.getElementById('closeBtn');
    const questionCounter = document.getElementById('questionCounter');
    const modalProgressBar = document.getElementById('modalProgressBar');
    const modalTitle = document.getElementById('modalTitle');

    function renderQuestion(index) {
      const question = checkInQuestions[index];
      let html = `
        <div class="question-text">${question.title}</div>
        ${question.subtitle ? `<div class="question-subtitle">${question.subtitle}</div>` : ''}
      `;

      if (question.type === 'multiple-choice') {
        html += '<div class="options-group">';
        question.options.forEach((option, i) => {
          const isSelected = answers[question.id] === i;
          html += `
            <button class="option-button ${isSelected ? 'selected' : ''}" 
                    onclick="selectOption(${question.id}, ${i}, '${option}')">
              ${option}
            </button>
          `;
        });
        html += '</div>';
      } else if (question.type === 'slider') {
        const currentValue = answers[question.id] !== undefined ? answers[question.id] : question.value;
        html += `
          <div class="slider-container">
            <div class="slider-labels">
              <span>${question.minLabel}</span>
              <span>${question.maxLabel}</span>
            </div>
            <input type="range" min="${question.min}" max="${question.max}" value="${currentValue}" 
                   class="slider-input" onchange="updateSliderValue(${question.id}, this.value)" 
                   oninput="updateSliderDisplay(this.value)">
            <div class="slider-value" id="sliderDisplay">${currentValue}</div>
          </div>
        `;
      }

      questionContainer.innerHTML = html;
      
      // Update progress
      questionCounter.textContent = index + 1;
      const progress = ((index + 1) / checkInQuestions.length) * 100;
      modalProgressBar.style.width = progress + '%';

      // Update buttons
      prevBtn.style.display = index > 0 ? 'block' : 'none';
      nextBtn.textContent = index === checkInQuestions.length - 1 ? 'âœ“ AbschlieÃŸen' : 'Weiter â†’';
    }

    function selectOption(questionId, optionIndex, optionText) {
      answers[questionId] = optionIndex;
      document.querySelectorAll('.option-button').forEach(btn => {
        btn.classList.remove('selected');
      });
      event.target.classList.add('selected');
    }

    function updateSliderValue(questionId, value) {
      answers[questionId] = parseInt(value);
    }

    function updateSliderDisplay(value) {
      document.getElementById('sliderDisplay').textContent = value;
    }

    function showSummary() {
      const avgMood = answers[1];
      const sleep = answers[2];
      const energy = answers[3];
      const stress = answers[4];
      const need = checkInQuestions[9].options[answers[10]];

      let summary = `
        <div class="summary-content">
          <div class="summary-title">âœ“ Check-In abgeschlossen!</div>
          <div class="summary-text">
            Danke, dass du dir Zeit fÃ¼r Selbstreflektion genommen hast. Hier ist eine kurze Zusammenfassung deines heutigen Zustands.
          </div>
          <div class="summary-stats">
            <div class="stat-item">
              <span class="stat-label">Durchschnittliche Stimmung</span>
              <span class="stat-value">${avgMood}/10</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">Energielevel</span>
              <span class="stat-value">${energy}/10</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">Stresslevel</span>
              <span class="stat-value">${['Entspannt', 'Entspannt', 'Neutral', 'Gestresst', 'Sehr gestresst'][stress]}</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">Du brauchst</span>
              <span class="stat-value">${need}</span>
            </div>
          </div>
          <p class="summary-text">
            Versuche heute, dich auf das zu konzentrieren, was du am meisten brauchst. Der Assistent wird dir dabei helfen! ğŸ’ª
          </p>
        </div>
      `;

      questionContainer.innerHTML = summary;
      prevBtn.style.display = 'none';
      nextBtn.textContent = 'Fertig';
      nextBtn.onclick = () => closeModal();
    }

    function openCheckInModal() {
      currentQuestion = 0;
      answers = {};
      modal.classList.add('active');
      renderQuestion(0);
    }

    function closeModal() {
      modal.classList.remove('active');
    }

    nextBtn.addEventListener('click', () => {
      if (currentQuestion < checkInQuestions.length - 1) {
        currentQuestion++;
        renderQuestion(currentQuestion);
      } else if (Object.keys(answers).length < checkInQuestions.length) {
        alert('Bitte beantworte alle Fragen vor dem Fortfahren');
      } else {
        showSummary();
      }
    });

    prevBtn.addEventListener('click', () => {
      if (currentQuestion > 0) {
        currentQuestion--;
        renderQuestion(currentQuestion);
      }
    });

    closeBtn.addEventListener('click', closeModal);

    // Verbinde den Check-In Button mit dem Modal
    document.querySelectorAll('.button').forEach(btn => {
      if (btn.parentElement.querySelector('.card-title')?.textContent.includes('TÃ¤glicher Check-In')) {
        btn.onclick = (e) => {
          e.preventDefault();
          openCheckInModal();
        };
      }
    });
  </script>
</body>
</html>
``
